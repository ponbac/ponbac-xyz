---
import { type CollectionEntry, getCollection } from "astro:content";
import BlogPost from "../../layouts/BlogPost.astro";

export async function getStaticPaths() {
  const posts = await getCollection("blog");
  return posts.map((post) => ({
    params: { slug: post.slug },
    props: post,
  }));
}
type Props = CollectionEntry<"blog">;

const post = Astro.props;
const { Content } = await post.render();
---

<BlogPost {...post.data}>
  <div class="blog-post">
    <Content />
  </div>
</BlogPost>

<style>
  .blog-post {
    h1 {
      font-size: 3.052em;
    }
    h2 {
      font-size: 2.441em;
    }
    h3 {
      font-size: 1.953em;
    }
    h4 {
      font-size: 1.563em;
    }
    h5 {
      font-size: 1.25em;
    }
    strong,
    b {
      font-weight: 700;
    }
    a {
      color: var(--accent);
    }
    a:hover {
      color: var(--accent);
    }
    p {
      margin-bottom: 1em;
    }
    .prose p {
      margin-bottom: 2em;
    }
    textarea {
      width: 100%;
      font-size: 16px;
    }
    input {
      font-size: 16px;
    }
    table {
      width: 100%;
    }
    img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
    }
    code {
      padding: 2px 5px;
      background-color: rgb(var(--gray-light));
      border-radius: 2px;
    }
    pre {
      padding: 1.5em;
      border-radius: 8px;
    }
    pre > code {
      all: unset;
    }
    blockquote {
      border-left: 4px solid var(--accent);
      padding: 0 0 0 20px;
      margin: 0px;
      font-size: 1.333em;
    }
    hr {
      border: none;
      border-top: 1px solid rgb(var(--gray-light));
    }
  }
</style>
